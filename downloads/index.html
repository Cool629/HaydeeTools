---
layout: downloads
title: All Releases
---
		<script src="{{ site.github.url }}/js/moment.min.js"></script>

		<div class="container-downloads">
		    <div class="container">
		        <h1>Last 30 releases<span class="total-downloads"></span></h1>
		        <div><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></div>
		        <table class="table table-bordered table-striped table-downloads">
		            <thead>
		                <tr>
		                    <th>Release name (Download)</th>
		                    <th>File size (Info)</th>
		                    <th>Download count</th>
		                    <th>Release date</th>
		                    <th>Active days</th>
		                </tr>
		            </thead>
		            <tbody>
		            </tbody>
		        </table>
		    </div>
		</div>


		<script>
		    $(document).ready(function() {
		        GetReleases();
		    });
		    function GetReleases() {
			    var api_url = "{{site.github.api_url}}/repos/{{site.github.owner_name}}/{{site.github.repository_name}}/releases"
		        $.getJSON(api_url).done(function(json) {
		            var totalDownloadCount = 0;
		            previousUpdatedAt = moment();
		            for (var i = 0; i < json.length; i++) {
		                var release = json[i];
		                if (release.assets.length === 0) {
		                    continue;
		                }
		                var asset = release.assets[0];
		                var fileSize = Math.round(asset.size / 1024);
		                var downloadCount = 0;
		                for (var i2 = 0; i2 < release.assets.length; i2++) {
		                    downloadCount += release.assets[i2].download_count;
		                }
		                totalDownloadCount += downloadCount;
		                var updatedAt = moment(asset.updated_at);
		                var activeDays = previousUpdatedAt.diff(updatedAt, "days", true);
		                previousUpdatedAt = updatedAt;
		                $(".table-downloads tbody")
		                    .append($("<tr>")
		                        .append($("<td>")
		                            .append($("<a>")
		                                .attr("href", asset.browser_download_url)
		                                .text(release.name?release.name:release.tag_name)
		                            )
		                            .append(release.prerelease ? "<div class=\"pull-right\"><span class=\"label label-danger\">Pre-release</span></div>" : "")
		                        )
		                        .append($("<td>")
		                            .append($("<a>")
		                                .attr("href", release.html_url)
		                                .text(fileSize.toLocaleString() + " KB")
		                            )
		                        )
		                        .append($("<td>")
		                            .text(downloadCount.toLocaleString())
		                        )
		                        .append($("<td>")
		                            .text(moment(asset.updated_at).format("YYYY-MM-DD HH:mm"))
		                        )
		                        .append($("<td>")
		                            .text(activeDays.toFixed(1))
		                        )
		                    ).append("\n");
		            }
		            if (totalDownloadCount > 0)
		            {
		                $(".total-downloads").text(" (" + totalDownloadCount.toLocaleString() + " downloads)");
		            }
		            $(".fa-spin").hide();
		            $(".table-downloads").fadeIn();
		        });
		    }
		</script>

